"use strict";(()=>{var e={};e.id=673,e.ids=[673],e.modules={20145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},36090:e=>{e.exports=import("stripe")},5248:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{config:()=>l,default:()=>u,routeModule:()=>p});var i=t(71802),r=t(47153),n=t(56249),o=t(10393),c=e([o]);o=(c.then?(await c)():c)[0];let d=i.PagesAPIRouteModule,u=(0,n.l)(o,"default"),l=(0,n.l)(o,"config"),p=new d({definition:{kind:r.x.PAGES_API,page:"/api/checkout/create-session",pathname:"/api/checkout/create-session",bundlePath:"",filename:""},userland:o});a()}catch(e){a(e)}})},10393:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>n});var i=t(36090),r=e([i]);i=(r.then?(await r)():r)[0];let o=new i.default(process.env.STRIPE_SECRET_KEY,{apiVersion:"2024-04-10"});async function n(e,s){if("POST"===e.method)try{let t=await o.checkout.sessions.create({payment_method_types:["card"],line_items:e.body.items,mode:"payment",success_url:`${e.headers.origin}/success?session_id={CHECKOUT_SESSION_ID}`,cancel_url:`${e.headers.origin}/cancel`});s.status(200).json({sessionId:t.id})}catch(e){s.status(500).json({error:e.message})}else s.setHeader("Allow","POST"),s.status(405).end("Method Not Allowed")}a()}catch(e){a(e)}})}};var s=require("../../../webpack-api-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[222],()=>t(5248));module.exports=a})();